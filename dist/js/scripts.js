let pokemonRepository=function(){let f=[];function a(){return f}function b(a){"object"==typeof a&&f.push(a)}function c(a){let b=f.filter(b=>b.name===a);console.log(b);let c=a;$(".dexEntry").each(function(){let a=$(this);a.text().includes(c)?a.show():a.hide()})}function d(a){e(a).then(function(){g(a)})}function g(a){let c=document.querySelector(".modal-title"),b=document.querySelector(".modal-body"),d=document.createElement("h3");d.innerText=a.name;let e=document.createElement("img");e.setAttribute("src",a.imageUrl);let f=document.createElement("p");f.innerText="Dex No: "+a.id;let g=document.createElement("p");g.innerText="Height: "+Math.round(10*a.height)/100+" m";let h=document.createElement("p");h.innerText="Weight: "+Math.round(10*a.weight)/100+" kg";let i=document.createElement("p"),k=a.types.map(a=>a.type.name).join(", ");i.innerText="Types: "+k;let j=document.createElement("p"),l=a.abilities.map(a=>a.ability.name).join(", ");j.innerText="Abilities: "+l,c.innerText="",b.innerText="",c.append(d),b.append(e),b.append(f),b.append(g),b.append(h),b.append(i),b.append(j)}function e(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.front_default,a.height=b.height,a.weight=b.weight,a.types=b.types,a.abilities=b.abilities,a.id=b.id,a.spriteUrl=b.sprites.versions["generation-vii"].icons.front_default}).catch(function(a){console.error(a)})}return{add:b,getAll:a,find:c,addListItem:function(c){let f=document.querySelector(".pokemon-list"),b=document.createElement("li"),a=document.createElement("button"),g=c.name;b.classList.add("group-list-item","dexEntry"),a.addEventListener("click",function(){d(c)}),a.classList.add("button","btn","btn-secondary","btn-text"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#dexModal"),b.appendChild(a),f.appendChild(b),e(c).then(function(){let b=document.createElement("img");b.src=c.spriteUrl,b.classList.add("pokemon-sprite"),a.append(b),a.append(g)})},showDetails:d,loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){b({name:a.name,detailsUrl:a.url})})}).catch(function(a){console.error(a)})},loadDetails:e,pokemonSearch:function(){let b=document.querySelector(".search-container"),a=document.createElement("input");a.classList.add("search-bar"),a.addEventListener("keyup",function(){c(a.value.toLowerCase())}),b.appendChild(a)}}}();function pokemonListAdd(a){pokemonRepository.addListItem(a)}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(pokemonListAdd),pokemonRepository.pokemonSearch()})