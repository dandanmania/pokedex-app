let pokemonRepository=function(){let e=[],t='https://pokeapi.co/api/v2/pokemon/?limit=151';function n(t){'object'==typeof t&&e.push(t)}function i(e){o(e).then(function(){!function(e){let t=document.querySelector('.modal-title'),n=document.querySelector('.modal-body'),i=document.createElement('h3');i.innerText=e.name;let o=document.createElement('img');o.setAttribute('src',e.imageUrl);let r=document.createElement('p');r.innerText='Dex No: '+e.id;let a=document.createElement('p');a.innerText='Height: '+Math.round(10*e.height)/100+' m';let l=document.createElement('p');l.innerText='Weight: '+Math.round(10*e.weight)/100+' kg';let c=document.createElement('p'),d=e.types.map(e=>e.type.name).join(', ');c.innerText='Types: '+d;let u=document.createElement('p'),p=e.abilities.map(e=>e.ability.name).join(', ');u.innerText='Abilities: '+p,t.innerText='',n.innerText='',t.append(i),n.append(o),n.append(r),n.append(a),n.append(l),n.append(c),n.append(u)}(e)})}function o(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types,e.abilities=t.abilities,e.id=t.id}).catch(function(e){console.error(e)})}return{add:n,getAll:function(){return e},find:function(t){return e.filter(e=>e.name===t)},addListItem:function(e){let t=document.querySelector('.pokemon-list'),n=document.createElement('li'),o=document.createElement('button');n.classList.add('group-list-item'),o.addEventListener('click',function(){i(e)}),o.innerText=e.name,o.classList.add('button','btn','btn-secondary'),o.setAttribute('data-toggle','modal'),o.setAttribute('data-target','#dexModal'),n.appendChild(o),t.appendChild(n)},showDetails:i,loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:o}}();function pokemonListAdd(e){pokemonRepository.addListItem(e)}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(pokemonListAdd)});